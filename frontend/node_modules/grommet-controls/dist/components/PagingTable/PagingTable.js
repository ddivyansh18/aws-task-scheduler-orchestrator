var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
import React from 'react';
import { ThemeContext } from 'styled-components';
import { ResponsiveContext } from 'grommet';
import { StyledPagingTable } from './StyledPagingTable';
const responsiveColumns = (size, columns) => Array.isArray(columns)
    ? columns.map(column => {
        if (size === undefined) {
            return column;
        }
        let { show } = column;
        if (column.responsiveShow) {
            const sizes = Array.isArray(column.responsiveShow)
                ? column.responsiveShow
                : [column.responsiveShow];
            if (sizes.indexOf(size) !== -1) {
                show = true;
            }
        }
        if (column.responsiveHide) {
            const sizes = Array.isArray(column.responsiveHide)
                ? column.responsiveHide
                : [column.responsiveHide];
            if (sizes.indexOf(size) !== -1) {
                show = false;
            }
        }
        if (show === undefined) {
            return column;
        }
        return Object.assign(Object.assign({}, column), { show });
    })
    : columns;
/**
 * Table component with pagination, filtering, footer, child rows and grouping<br/>
 * Derived from https://github.com/react-tools/react-table<br/>
 * `import { PagingTable } from 'grommet-controls';`<br/>
 * `<PagingTable columns={...} data={...} />`<br/>
 */
const PagingTable = (_a) => {
    var { data, columns } = _a, rest = __rest(_a, ["data", "columns"]);
    const defaults = {
        showPagination: rest.onFetchData !== undefined ||
            (data && data.length > (rest.defaultPageSize || 20)),
        minRows: data && data.length < (rest.defaultPageSize || 20) ? 0 : undefined,
    };
    const newProps = Object.assign(Object.assign({}, defaults), rest);
    return (React.createElement(ResponsiveContext.Consumer, null, size => (React.createElement(ThemeContext.Consumer, null, theme => (React.createElement(StyledPagingTable, Object.assign({ data: data || [], columns: responsiveColumns(size, columns), theme: theme }, newProps)))))));
};
PagingTable.defaultProps = {
    defaultPageSize: 20,
    filterable: false,
    loading: false,
    manual: false,
    resizable: true,
    showPagination: true,
    sortable: true,
};
export { PagingTable };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGFnaW5nVGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9QYWdpbmdUYWJsZS9QYWdpbmdUYWJsZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUM7QUFDMUIsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUM1QyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUd4RCxNQUFNLGlCQUFpQixHQUFHLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQzFDLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDO0lBQ3BCLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQ25CLElBQUksSUFBSSxLQUFLLFNBQVMsRUFBRTtZQUN0QixPQUFPLE1BQU0sQ0FBQztTQUNmO1FBQ0QsSUFBSSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLE1BQU0sQ0FBQyxjQUFjLEVBQUU7WUFDekIsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDO2dCQUNoRCxDQUFDLENBQUMsTUFBTSxDQUFDLGNBQWM7Z0JBQ3ZCLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUM1QixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7Z0JBQzlCLElBQUksR0FBRyxJQUFJLENBQUM7YUFDYjtTQUNGO1FBQ0QsSUFBSSxNQUFNLENBQUMsY0FBYyxFQUFFO1lBQ3pCLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztnQkFDaEQsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxjQUFjO2dCQUN2QixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDNUIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO2dCQUM5QixJQUFJLEdBQUcsS0FBSyxDQUFDO2FBQ2Q7U0FDRjtRQUNELElBQUksSUFBSSxLQUFLLFNBQVMsRUFBRTtZQUN0QixPQUFPLE1BQU0sQ0FBQztTQUNmO1FBQ0QsdUNBQVksTUFBTSxLQUFFLElBQUksSUFBRztJQUM3QixDQUFDLENBQUM7SUFDSixDQUFDLENBQUMsT0FBTyxDQUFDO0FBRWQ7Ozs7O0dBS0c7QUFDSCxNQUFNLFdBQVcsR0FBRyxDQUFDLEVBQTZDLEVBQUUsRUFBRTtRQUFqRCxFQUFFLElBQUksRUFBRSxPQUFPLE9BQThCLEVBQXpCLElBQUksY0FBeEIsbUJBQTBCLENBQUY7SUFDM0MsTUFBTSxRQUFRLEdBQUc7UUFDZixjQUFjLEVBQ1osSUFBSSxDQUFDLFdBQVcsS0FBSyxTQUFTO1lBQzlCLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3RELE9BQU8sRUFBRSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxlQUFlLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUztLQUM1RSxDQUFDO0lBQ0YsTUFBTSxRQUFRLG1DQUFRLFFBQVEsR0FBSyxJQUFJLENBQUUsQ0FBQztJQUMxQyxPQUFPLENBQ0wsb0JBQUMsaUJBQWlCLENBQUMsUUFBUSxRQUN4QixJQUFJLENBQUMsRUFBRSxDQUFDLENBQ1Asb0JBQUMsWUFBWSxDQUFDLFFBQVEsUUFDbkIsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUNSLG9CQUFDLGlCQUFpQixrQkFDaEIsSUFBSSxFQUFFLElBQUksSUFBSSxFQUFFLEVBQ2hCLE9BQU8sRUFBRSxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLEVBQ3pDLEtBQUssRUFBRSxLQUFLLElBQ1IsUUFBUSxFQUNaLENBQ0gsQ0FDcUIsQ0FDekIsQ0FDMEIsQ0FDOUIsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLFdBQVcsQ0FBQyxZQUFZLEdBQUc7SUFDekIsZUFBZSxFQUFFLEVBQUU7SUFDbkIsVUFBVSxFQUFFLEtBQUs7SUFDakIsT0FBTyxFQUFFLEtBQUs7SUFDZCxNQUFNLEVBQUUsS0FBSztJQUNiLFNBQVMsRUFBRSxJQUFJO0lBQ2YsY0FBYyxFQUFFLElBQUk7SUFDcEIsUUFBUSxFQUFFLElBQUk7Q0FDZixDQUFDO0FBRUYsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDIn0=